# 🤖 هوش مصنوعی تحلیل کسب‌وکار

یک عامل هوش مصنوعی قدرتمند مبتنی بر LangGraph که داده‌های کسب‌وکار را تحلیل کرده، بینش‌های عملی ارائه می‌دهد و گزارش‌های جامع با داشبورد بصری تولید می‌کند.

## ✨ ویژگی‌های کلیدی

- **📊 تحلیل سود روزانه**: محاسبه سود/زیان در زمان واقعی با مقایسه روندها
- **💰 نظارت بر هزینه جذب مشتری (CAC)**: هشدار هوشمند زمانی که CAC بیش از ۲۰٪ افزایش یابد
- **📈 تحلیل روند درآمد و هزینه**: نظارت بر تغییرات درصدی با آستانه‌های هوشمند
- **🎯 توصیه‌های خودکار**: مشاوره کسب‌وکار عملی مبتنی بر هوش مصنوعی
- **⚠️ هشدارهای هوشمند**: اخطارهای پیشگیرانه برای معیارهای نگران‌کننده کسب‌وکار
- **📄 خروجی JSON**: خروجی داده ساختاریافته برای یکپارچه‌سازی با سایر سیستم‌ها
- **🌐 داشبورد تعاملی**: نمایش بصری زیبا از معیارهای کسب‌وکار شما

## 🚀 شروع سریع

### ۱. نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

### ۲. اجرای عامل
```python
# اجرای ساده - تولید خروجی JSON
python agent.py
```

این دستور:
- ✅ داده‌های کسب‌وکار شما را تحلیل می‌کند
- 📁 فایل‌های خروجی JSON ساختاریافته تولید می‌کند
- 🎨 یک داشبورد HTML تعاملی ایجاد می‌کند
- 📊 بینش‌های جامع کسب‌وکار نمایش می‌دهد

### ۳. مشاهده نتایج
- **خروجی JSON**: فایل‌های `.json` تولید شده را برای داده‌های ساختاریافته بررسی کنید
- **داشبورد بصری**: فایل `business_dashboard.html` را در مرورگر باز کنید تا نمودارهای تعاملی را ببینید
- **خروجی کنسول**: خلاصه را مستقیماً در ترمینال مشاهده کنید

### ۴. تحلیل داده‌های سفارشی
```python
from agent import run_business_analysis

# داده‌های کسب‌وکار شما
data = {
    "daily_revenue": 5000,
    "daily_cost": 3000,
    "number_of_customers": 50,
    "previous_day_revenue": 4500,
    "previous_day_cost": 2500,
    "previous_day_customers": 45
}

result = run_business_analysis(data)
print(result)
```

### ۵. اجرای تست‌ها
```bash
python test_agent.py
```

## 📊 فرمت‌های خروجی

### خروجی JSON
عامل به طور خودکار فایل‌های JSON ساختاریافته تولید می‌کند شامل:
- تحلیل دقیق سود/زیان
- محاسبات CAC و روندها
- معیارهای درآمد و هزینه
- توصیه‌های خودکار
- هشدارها و اخطارات کسب‌وکار

### داشبورد HTML تعاملی
معیارهای کسب‌وکار خود را از طریق داشبورد زیبای ما مشاهده کنید:
- 📈 نمودارها و گراف‌های زمان واقعی
- 🎯 شاخص‌های عملکرد کلیدی
- 📊 تجسم تحلیل روند
- 🚨 اعلان‌های هشدار
- 💡 برجسته‌سازی توصیه‌ها

## 🎛️ یکپارچه‌سازی با LangGraph Studio

این پروژه به طور کامل برای LangGraph Studio پیکربندی شده است:
1. کل پوشه پروژه را وارد کنید
2. عامل را به صورت تعاملی تست کنید
3. گراف گردش کار را تجسم کنید
4. عملکرد را اشکال‌زدایی و بهینه‌سازی کنید

فایل پیکربندی: `langgraph.json`

## 📥 ساختار داده‌های ورودی

```json
{
  "daily_revenue": 5000,
  "daily_cost": 3000,
  "number_of_customers": 50,
  "previous_day_revenue": 4500,
  "previous_day_cost": 2500,
  "previous_day_customers": 45
}
```

## 📤 ساختار خروجی

```json
{
  "profit_loss_status": {
    "daily_profit": 2000,
    "status": "positive",
    "revenue_change_percent": 11.11,
    "cost_change_percent": 20.0
  },
  "customer_acquisition": {
    "current_cac": 60.0,
    "cac_change_percent": 8.0,
    "cac_alert": false
  },
  "alerts": [
    "💰 هزینه‌ها به طور قابل توجهی افزایش یافته"
  ],
  "recommendations": [
    "✅ عملیات سودآور فعلی را حفظ کنید",
    "📈 رشد قوی درآمد شناسایی شد",
    "🎯 در نظر گیری گسترش عملیات"
  ],
  "summary": {
    "total_alerts": 1,
    "total_recommendations": 4,
    "analysis_date": "2024-01-01"
  }
}
```

## 🧮 منطق هوش تجاری

### معیارهای اصلی
- **سود روزانه**: `درآمد_روزانه - هزینه_روزانه`
- **CAC**: `هزینه_روزانه / تعداد_مشتریان`
- **تغییر درآمد**: `(فعلی - قبلی) / قبلی × ۱۰۰`
- **تغییر هزینه**: `(فعلی - قبلی) / قبلی × ۱۰۰`

### سیستم هشدار هوشمند
| شرایط | محرک هشدار |
|-------|------------|
| سود منفی | هشدار فوری |
| افزایش CAC | افزایش >۲۰٪ |
| کاهش درآمد | کاهش >۱۰٪ |
| جهش هزینه | افزایش >۱۵٪ |

### توصیه‌های هوش مصنوعی
- 💡 استراتژی‌های بهینه‌سازی هزینه
- 📈 تنظیمات بودجه بازاریابی
- 🎯 توصیه‌های گسترش
- ⚠️ مشاوره کاهش ریسک

## 🏗️ معماری

### گردش کار LangGraph
```
ورودی → پردازش → تحلیل → توصیه‌ها → خروجی
  ↓         ↓        ↓        ↓          ↓
اعتبار    محاسبه   تولید    فرمت      خروجی
داده      معیارها   بینش    گزارش     فایل‌ها
```

### پشته فناوری
- **🧠 LangGraph**: هماهنگی گردش کار و مدیریت حالت
- **🐍 Python**: منطق کسب‌وکار و محاسبات
- **📊 JSON**: سریال‌سازی داده و یکپارچه‌سازی API
- **🌐 HTML/CSS/JS**: تجسم داشبورد تعاملی
- **🧪 unittest**: چارچوب تست جامع

## 🧪 مجموعه تست

پوشش تست جامع شامل:
- ✅ سناریوهای کسب‌وکار سودآور
- ❌ سناریوهای زیان و موارد استثنایی
- 📊 تست هشدار CAC بالا
- 🔢 دقت محاسبه معیارها
- 💡 اعتبارسنجی منطق توصیه‌ها
- 📥 اعتبارسنجی ورودی و مدیریت خطا
- 📤 انطباق فرمت خروجی

## 🔄 نمونه‌های استفاده

### بررسی روزانه کسب‌وکار
```bash
# تحلیل سریع روزانه
python agent.py

# بررسی داشبورد
open business_dashboard.html
```

### یکپارچه‌سازی با سیستم‌های کسب‌وکار
```python
# مثال یکپارچه‌سازی API
import requests
from agent import run_business_analysis

# دریافت داده از سیستم کسب‌وکار شما
business_data = fetch_daily_metrics()

# تحلیل با عامل هوش مصنوعی
insights = run_business_analysis(business_data)

# ارسال به داشبورد یا سیستم اطلاع‌رسانی
update_business_dashboard(insights)
```

## 📈 ویژگی‌های پیشرفته

- **تحلیل روند**: تشخیص روند چندروزه
- **بینش‌های پیش‌بینی**: شاخص‌های عملکرد آینده
- **آستانه‌های سفارشی**: سطوح هشدار قابل تنظیم
- **گزینه‌های خروجی**: فرمت‌های خروجی متعدد
- **به‌روزرسانی زمان واقعی**: تازه‌سازی زنده داشبورد

## 🤝 مشارکت

1. پروژه را Fork کنید
2. یک شاخه ویژگی ایجاد کنید
3. تست‌های جامع اضافه کنید
4. درخواست Pull ارسال کنید

## 📄 مجوز

مجوز MIT - منبع باز و رایگان برای استفاده در پروژه‌های تجاری.

---

## 🎯 شروع در ۳۰ ثانیه

۱. `python agent.py` - اجرای تحلیل
۲. باز کردن `business_dashboard.html` - مشاهده نتایج
۳. بررسی فایل‌های JSON - یکپارچه‌سازی با سیستم‌های شما

**آماده تحول هوش تجاری خود هستید؟ همین حالا شروع به تحلیل کنید!** 🚀